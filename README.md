# 키친포스

## 용어 사전

|   한글명    |       영문명        |              설명               |
|:--------:|:----------------:|:-----------------------------:|
|    상품    |     product      |      메뉴를 관리하는 기준이 되는 데이터      |
|  메뉴 그룹   |    menu group    |           메뉴 묶음, 분류           |
|    메뉴    |       menu       |    메뉴 그룹에 속하는 실제 주문 가능 단위     |
|  메뉴 상품   |   menu product   |       메뉴에 속하는 수량이 있는 상품       |
|    금액    |      amount      |            가격 * 수량            |
|  주문 테이블  |   order table    |       매장에서 주문이 발생하는 영역        |
|  빈 테이블   |   empty table    |      주문을 등록할 수 없는 주문 테이블      |
|    주문    |      order       |         매장에서 발생하는 주문          |
|  주문 상태   |   order status   | 주문은 조리 ➜ 식사 ➜ 계산 완료 순서로 진행된다. |
| 방문한 손님 수 | number of guests | 필수 사항은 아니며 주문은 0명으로 등록할 수 있다. |
|  단체 지정   |   table group    | 통합 계산을 위해 개별 주문 테이블을 그룹화하는 기능 |
|  주문 항목   | order line item  |       주문에 속하는 수량이 있는 메뉴       |
|  매장 식사   |      eat in      |      포장하지 않고 매장에서 식사하는 것      |

## 1단계 - 테스트를 통한 코드 보호

## 키친포스 요구 사항

### Product

- [x] 상품을 저장한다.
    - [x] 상품의 가격은 음수일 수 없다.
- [x] 저장된 모든 상품을 조회한다.

### Order

- [x] 주문을 저장한다.
    - [x] 주문을 하는 테이블은 주문할 수 없는 상태일 수 없다.
    - [x] 생성된 주문의 상태는 `COOKING`이다.
- [x] 저장된 모든 주문을 조회한다.
- [x] 주문 상태를 변경한다.
    - [x] 주문의 상태는 `COMPLETION`일 수 없다.

### Menu

- [x] 메뉴를 저장한다.
    - [x] 메뉴의 가격은 음수일 수 없다.
    - [x] 메뉴의 가격이 메뉴 상품 가격의 총합보다 클 순 없다.
- [x] 저장된 모든 메뉴를 조회한다.

### MenuGroup

- [x] 메뉴 그룹을 저장한다.
- [x] 저장된 모든 메뉴 그룹을 조회한다.

### Table

- [x] 테이블을 저장한다.
- [x] 모든 테이블을 조회한다.
- [x] 테이블의 주문 가능 상태를 변경한다.
    - [x] 이미 테이블 그룹에 속해있으면 변경할 수 없다.
    - [x] 테이블의 주문 상태가 요리중 또는 식사중일 때만 변경할 수 있다.
- [x] 테이블의 손님 수를 변경한다.
    - [x] 손님 수는 음수일 수 없다.
    - [x] 테이블이 주문을 할 수 없는 상태라면 변경할 수 없다.

### TableGroup

- [x] 테이블 그룹을 저장한다.
    - [x] 그룹에 속하는 테이블의 수는 2개 이상이다.
    - [x] 주문을 할 수 있는 상태의 테이블만 포함될 수 있다.
    - [x] 테이블 그룹에 속하지 않은 테이블만 포함될 수 있다.
- [x] 테이블 그룹을 해제한다.
    - [x] 그룹에 속한 테이블들의 주문 상태가 계산 완료인 테이블만 해제할 수 있다.

## 2단계 서비스 리팩터링

- [x] 단위 테스트하기 어려운 코드와 단위 테스트 가능한 코드를 분리한다. 분리한 코드에 대해 단위 테스트를 구현한다.
    - [x] MenuService 리팩터링
    - [x] MenuGroupService 리팩터링
    - [x] ProductService 리팩터링
    - [x] OrderService 리팩터링
    - [x] TableService 리팩터링
    - [x] TableGroupService 리팩터링
